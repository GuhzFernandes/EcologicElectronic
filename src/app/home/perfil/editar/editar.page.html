<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button routerLink="/home/perfil">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Editar Dados</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>
  <ion-card-content>
    <div class="profile-picture">
      <img src="../../../../assets/UserCircle.png" alt="Foto do UsuÃ¡rio">
      <!-- <a>Alterar imagem</a> -->
    </div>

    <ion-segment [(ngModel)]="alterar" class="segment">
      <ion-segment-button value="deletar" class="segment-button">
        <ion-label>Conta</ion-label>
      </ion-segment-button>
      <ion-segment-button value="perfil" class="segment-button">
        <ion-label>Editar Perfil</ion-label>
      </ion-segment-button>
      <ion-segment-button value="senha" class="segment-button">
        <ion-label>Alterar Senha</ion-label>
      </ion-segment-button>
    </ion-segment>
    
    <div *ngIf="alterar === 'perfil'" class="edit-list">
      <ion-list>
        <ion-item>
          <ion-label class="edit-inputs" position="stacked">Nome:</ion-label>
          <ion-input class="edit-inputs" [(ngModel)]="nome"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label class="edit-inputs" position="stacked">Sobrenome:</ion-label>
          <ion-input class="edit-inputs" [(ngModel)]="sobrenome"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label class="edit-inputs" position="stacked">Email:</ion-label>
          <ion-input class="edit-inputs" [(ngModel)]="email"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label class="edit-inputs" position="stacked">Telefone:</ion-label>
          <ion-input #telefoneInput class="edit-inputs" [(ngModel)]="telefone"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label class="edit-inputs" position="stacked">CPF:</ion-label>
          <ion-input #cpfInput class="edit-inputs" [(ngModel)]="cpf" name="cpf" type="text"></ion-input>
        </ion-item>
      </ion-list>
      <div class="container-button">
        <ion-button expand="half" color="success" class="button-container" (click)="saveUser()">Atualizar Perfil</ion-button>
      </div>
    </div>
    
    <div *ngIf="alterar === 'senha'" class="edit-list">
      <ion-list>
        <ion-item>
          <ion-label class="edit-inputs" position="stacked">Senha atual:</ion-label>
          <div class="passwordInputs">
            <input type="{{ showCurrentPassword === false ? 'password' : 'text'}}" class="passwordInput" [(ngModel)]="currentPassword">
            <button class="passwordButton" (click)="toggleCurrentPassword();"><ion-icon class="passwordButtonIcon" name="{{showCurrentPassword === true ? 'eye-off-outline' : 'eye-outline'}}"></ion-icon></button>
          </div>
        </ion-item>
        <ion-item>
          <ion-label class="edit-inputs" position="stacked">Nova senha:</ion-label>
          <div class="passwordInputs">
            <input type="{{ showNewPassword === false ? 'password' : 'text'}}" class="passwordInput" [(ngModel)]="newPassword">
            <button class="passwordButton" (click)="toggleNewPassword();"><ion-icon class="passwordButtonIcon" name="{{showNewPassword === true ? 'eye-off-outline' : 'eye-outline'}}"></ion-icon></button>
          </div>
        </ion-item>
        <ion-item>
          <ion-label class="edit-inputs" position="stacked">Confirmar a nova senha:</ion-label>
          <div class="passwordInputs">
            <input type="{{ showConfirmNewPassword === false ? 'password' : 'text'}}" class="passwordInput" [(ngModel)]="confirmNewPassword">
            <button class="passwordButton" (click)="toggleConfirmNewPassword();"><ion-icon class="passwordButtonIcon" name="{{showConfirmNewPassword === true ? 'eye-off-outline' : 'eye-outline'}}"></ion-icon></button>
          </div>
        </ion-item>
        <div class="container-button">
          <ion-button expand="half" color="success" class="button-container" (click)="savePassword()">Alterar senha</ion-button>
        </div>
      </ion-list>
    </div>
    
    <div *ngIf="alterar === 'deletar'" class="edit-list">
      <div class="container-delete-button">
        <div class="title">
          <strong>Deseja deletar a sua conta permanentemente?</strong>
        </div>
        <ion-button expand="half" color="danger" class="button-container" (click)="remove()">Deletar conta</ion-button>
      </div>
    </div>
  </ion-card-content>
</ion-content>